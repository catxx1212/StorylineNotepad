<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta name="Author" content="CatXx1212"/>
    <meta name="Description" content="This is Storyline Notepad. A place to write full storylines bursting with exsitment or full deep of lore, or just write your mind on pap- *ahem* screen."/>
    <meta http-equiv="Cache-Control" content="no-store" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <style>
      .loadingScreen {
        position: fixed;
        top: 0%;
        left: 0%;
        width: 100vw;
        height: 100vh;
        z-index: 999999999;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .loadingScreen_white {
        background-color: rgb(230, 230, 230);
      }
      .loadingScreen_black {
        background-color: rgb(25, 25, 25);
      }
        .loadingScreen_spinner {
          height: 25%;
          aspect-ratio: 1 / 1;
          background-size: contain;
          background-repeat: no-repeat;
          animation: loadingSpin 4s linear 0s infinite;
        }
        .loadingScreen_spinner_white {
          background-image: url("assets/loadingDots_dark.png");
        }
        .loadingScreen_spinner_black {
          background-image: url("assets/loadingDots_light.png");
        }
          @keyframes loadingSpin { 
            0% {
              transform: rotate(0deg);
            } 100% {
              transform: rotate(360deg);
            }
          }
        .loadingScreenError {
          font-size: 2vw;
          text-align: center;
          color: black;
        }
    </style>
    <script>
      var currentVersionNumber = "0.6.0";  // <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< the vesion number is here now

      let styleArray = ["styles/animations.css", "styles/titlePage.css", "styles/themes.css"]
      let loadedStyles = 0;
      styleArray.forEach((stylesheetREF) => {
        let stylesheet = document.createElement("link");
        stylesheet.rel = "stylesheet";
        stylesheet.href = `${stylesheetREF}?v=${currentVersionNumber}`;
        document.head.appendChild(stylesheet);

        stylesheet.onload = function() {
          loadedStyles++;
          if(loadedStyles === styleArray.length) {
            setTimeout(() => {
              document.querySelector(".loadingScreen").remove();
            }, 600);
          }
        }

        stylesheet.onerror = function(event) {
          document.querySelector(".loadingScreen").innerHTML = `
          <p class="loadingScreenError">There was an error loading Storyline Notepad: stylesheet(${stylesheetREF}) could not be loaded.<br/> 
            Please hard reload the page, if this does not fix the issue the please report it <span style="font-weight: bold;"><a href="https://github.com/catxx1212/StorylineNotepad/issues">here</a></span>
          </p>`;
        }
      });

      let userPreferences_fallbackTheme_loadingScreen = ((JSON.parse(localStorage.getItem("storylineNotepad_global")) || {}).userPreferences || {}).defaultFallbackTheme || "white";

      document.addEventListener("DOMContentLoaded", function() {
        document.body.insertAdjacentHTML("beforeend", `
          <div class="loadingScreen loadingScreen_${userPreferences_fallbackTheme_loadingScreen}">
            <div class="loadingScreen_spinner loadingScreen_spinner_${userPreferences_fallbackTheme_loadingScreen}"></div>
          </div>
        `)
      });
    </script>
    <link rel="icon" href="assets/favicon/favicon.ico" />
    <title>Storyline Notepad</title>
  </head>
  <body class="white_theme">
    <header class="header_color">
      <div class="logoAndTitleContainer">
        <a href="index.html">
          <img class="logoAndTitleContainer_logo" src="assets/icons/storylineNotepad_logo1x1.png" title="Return to title page"/>
        </a>
        <p class="logoAndTitleContainer_title header_textColor">Storyline Notepad</p>
      </div>
      <img id="darkLightToggle" src="assets/icons/darkIcon_dark.png"/>
    </header>
    <main class="main_color">
      <div class="firstSectionWelcome">
        <div class="leftSideText">
          <p class="firstSectionWelcome_leftSideText_text">
            Welcome to Storyline Notepad! A place to weave your own stories, full of lore and excitement, 
            or maybe something more mysterious, looped with loopholes and intriguing catches and alleyways. 
            Whatever your story is, the first thing you need is to plan it, right? The storyline of any 
            good story is a solid foundation to start from, even if you decide to change things later on.
          </p>
        </div>
        <div class="rightSideImage">
          <img class="firstSectionWelcome_rightSideImage_image storyBox_color" src="assets/stroylineExample.png"/>
        </div>
      </div>
      <div class="secondSection">
        <div class="rightSideText">
          <p class="secondSection_rightSideText_text">
            Storyline Notepad offers a vast variety of themes and colors to enhance your writing experience. 
            Immerse yourself in your unique world as you type, with backgrounds matching the mood and 
            setting of your story. With an ever-expanding library of themes and new additions regularly, 
            your creative possibilities are endless!
          </p>
        </div>
        <div class="leftSideImage">
          <img class="secondSection_leftSideImage_image storyBox_color" src="assets/storylineThemeExample.png"/>
        </div>
      </div>
      <div class="thirdSection">
        <div class="leftSideText">
          <p class="thirdSection_leftSideText_text">
            Storyline Notepad was one of my earliest utility products. I built it for personal use in 2023 and didn't really think about 
            its appearance since it was just for me. It started as a tool to help me plan story plots for a game idea I had. After major 
            redesigns and script updates, I'm proud of what Storyline Notepad has become.
          </p>
        </div>
        <div class="rightSideImage">
          <img class="thirdSection_rightSideImage_image storyBox_color" src="assets/loveForStorylineNotepad.png"/>
        </div>
      </div>
      <div class="bottomSection">
        <div id="bottomSection_endOfPage">
          <p class="bottomSection_endOfPage_text">you've hit the bottom of the page, click here to start writing your next amazing story!</p>
          <div class="bottomSection_endOfPage_arrow"></div>
        </div>
      </div>
    </main>
    <footer class="footer_color">
      <p class="copyright">Â© 2024 CatXx1212. All Rights Reserved.</p>
      <a href="storylineNotepad/changelog.html">
        <div class="seeChangelogButton importExportMenu_buttons_color">
          <p>See full changelog</p>
        </div>
      </a>
      <a href="storylineNotepad/saveSlots.html">
        <div id="startWritingButton" class="importExportMenu_buttons_color">
          <p class="startWritingButton_text">Start Writing!</p>
        </div>
      </a>
      <a href="https://github.com/catxx1212/StorylineNotepad/issues" target="_blank">
        <div id="reportIssueButton" class="importExportMenu_buttons_color" title="Report an issue">
          <p class="reportIssueButton_text">Report Issue</p>
        </div>
      </a>
      <p id="versionNumber"></p>
    </footer>

    <script>
      let script = document.createElement("script");
      script.defer = true;
      script.src = `${"scripts/version.js"}?v=${currentVersionNumber}`;
      document.body.appendChild(script);

      
      function checkResize() {
        if(window.innerHeight > window.innerWidth) {
          var wrongScreenAspectRatioElement = document.createElement("div");
          if(!document.getElementById("wrongScreenAspectRatioElement")) {
            wrongScreenAspectRatioElement.classList.add("wrongScreenAspectRatioElement", "header_color");
            wrongScreenAspectRatioElement.innerHTML = `
              <p class="wrongScreenAspectRatioElement_firstText">Hold on a second</p>
              <p class="wrongScreenAspectRatioElement_lastText">Your screen height is larger than your screen width. Storyline Notepad was designed for laptop / monitors. Maybe in a future version _(0.0)/ </p>
            `;
            wrongScreenAspectRatioElement.id = "wrongScreenAspectRatioElement";
            document.body.appendChild(wrongScreenAspectRatioElement);
          }
        } else {
          if(document.getElementById("wrongScreenAspectRatioElement")) {
            setTimeout(() => {
              try {
                document.getElementById("wrongScreenAspectRatioElement").remove();
              } catch {}
            }, 150);
          }
        }
      }

      checkResize();
      window.addEventListener("resize", checkResize);

      let defaultStorylineNotepad_globalObject = {
        userPreferences: {
          appendTimeAndDateToFileExport: "enabled",
          defaultFallbackTheme: "white",
          autoExportWhenImporting: "enabled",
          textAlign: "center",               // theres a copy of this on the save slot page script, please keep synced
        },  
        storylineSaves: {       
          0: {"versionNumber":"0.6.0","textData":[{"storyboxNumber":0,"storyBoxTextContent":"Welcome to Storyline Notepad!\n\nThis save file is here to help users who don't know how to use Storyline Notepad yet.\n\n(You can delete this storyline if you don't need it anymore)\n\n(This will come back if you reset Storyline Notepad)"},{"storyboxNumber":1,"storyBoxTextContent":"Title Changing:\n\nJust click the title above the storyboxes to change it."},{"storyboxNumber":2,"storyBoxTextContent":"Storybox Management:\n(These boxes)\n\nYou can add a new box to the end of the storyline with the add button at the end.\n\nRight click the arrows for more options on box management.\n\nHover over each action to see a preview."},{"storyboxNumber":3,"storyBoxTextContent":"Themes Menu:\n\nThe brush icon in the top tray opens the Themes Menu.\n\nClick it to view all available themes."},{"storyboxNumber":4,"storyBoxTextContent":"Global Styles Menu:\n\nThe \"Aa\" icon in the top tray opens the Global Styles Menu.\n\nUse this to adjust font sizes and font boldness."},{"storyboxNumber":5,"storyBoxTextContent":"The Save Button:\n\nIt's pretty self explanatory, to be honest.\n\nStoryline Notepad also saves automatically when you exit."},{"storyboxNumber":6,"storyBoxTextContent":"The Import and Export Menu:\n\nThe two arrows icon in the top tray opens the Import and Export Menu.\n\nHere, you can export your current storyline to a file, either as a backup or to share with someone else.\n\nYou can also import data here, including support for version 0.2."},{"storyboxNumber":7,"storyBoxTextContent":"The Drop Down Menu:\n\nThe single arrow icon in the top tray opens the Drop Down Menu.\n\nThis is where you can find the User Preferences Menu and the Clear Data Menu."},{"storyboxNumber":8,"storyBoxTextContent":"The User Preferences Menu:\n\nThe cog icon in the dropdown menu opens the User Preferences Menu.\n\nHere, you can adjust some of Storyline Notepad's behaviours."},{"storyboxNumber":9,"storyBoxTextContent":"The Clear Data Menu:\n\nThe bin icon in the drop down menu opens the Clear Data Menu.\n\nHere, you can choose to either delete your current storyline or delete everything, including all your storyline saves and user preferences."},{"storyboxNumber":10,"storyBoxTextContent":"Tips and tricks:\n\nHold shift to scroll faster."},{"storyboxNumber":11,"storyBoxTextContent":"Tutorial Version 1.0.0\n\nThis can be downloaded from the Import/Export Menu or from:\n\nhttps://storylinenotepad.catxx1212.com/storylineNotepad/downloads/tutorialSaveFile/\n\nThank you for taking the time to read this! <3"}],"storylineTitle":"Tutorial","activeTheme":["anything","pleaseGoToFallbackTheme"],"activeGlobalStyle":"normalBold"},
        },
        lastTimeStamp: undefined,
      };

      var darkLightToggle = document.getElementById("darkLightToggle");
      var toggle;

      let userPreferences_fallbackTheme = ((JSON.parse(localStorage.getItem("storylineNotepad_global")) || {}).userPreferences || {}).defaultFallbackTheme || "white";

      if(userPreferences_fallbackTheme === "white" || userPreferences_fallbackTheme === undefined) {
        toggle = true;
        darkLightToggle.src = "assets/icons/darkIcon_dark.png";
        document.body.classList = "white_theme";
      } else {
        toggle = false;
        darkLightToggle.src = "assets/icons/lightIcon_light.png";
        document.body.classList = "black_theme";
      }

      darkLightToggle.onclick = function() {
        if(toggle) {
          toggle = false;
          darkLightToggle.src = "assets/icons/lightIcon_light.png";
          document.body.classList.replace("white_theme", "black_theme");

          let changedValue = "black";
          let storylineNotepad_global_setUserPreferences = JSON.parse(localStorage.getItem("storylineNotepad_global")) || defaultStorylineNotepad_globalObject;
          storylineNotepad_global_setUserPreferences.userPreferences.defaultFallbackTheme = changedValue;
          localStorage.setItem("storylineNotepad_global", JSON.stringify(storylineNotepad_global_setUserPreferences));

        } else if(!toggle) {
          toggle = true;
          darkLightToggle.src = "assets/icons/darkIcon_dark.png";
          document.body.classList.replace("black_theme", "white_theme");
          
          let changedValue = "white";
          let storylineNotepad_global_setUserPreferences = JSON.parse(localStorage.getItem("storylineNotepad_global")) || defaultStorylineNotepad_globalObject;
          storylineNotepad_global_setUserPreferences.userPreferences.defaultFallbackTheme = changedValue;
          localStorage.setItem("storylineNotepad_global", JSON.stringify(storylineNotepad_global_setUserPreferences));

        }
      }
    </script>
  </body>
  </html>